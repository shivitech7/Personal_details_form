<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="index.css" rel="stylesheet" />
    <title>Document</title>
</head>

<body>
    <div class="form_container">

        <form class="form" id="form" action="#">
            <h1>Personal Details Form</h1>

            <div class="card">

                <label for="fname">Name:</label><br>
                <div class="inputBox">
                    <input type="text" id="fname" name="fname" placeholder="Enter your full name.." autocomplete="off"
                        onkeyup="name_validation()" required><br>
                </div>
                <span class="span_tag" id="message"></span><br>

                <label for="mobilenum">Mobile number:</label><br>
                <div style="display: flex; flex-direction: row; justify-content: center;" class="inputBox">
                    <input type="text" id="mobilenum" name="mobilenum" onkeyup="mobile_validation()" maxlength="12"
                        placeholder="Enter your mobile number..">
                    <span><img alt="operator" id="logo" src="sim.jpg" /></span>
                    <span class="state" style="color: black;" id="state"></span><br>
                </div>
                <span id="mobileMessage"></span><br>

                <div class="inputBox">
                    <label for="email">Email:</label><br>
                    <input type="email" id="email" name="email" placeholder="Enter your email.."
                        onkeyup="email_validation()" autocomplete="off">
                </div>
                <span id="email_error"></span>

            </div>
        </form>
    </div>

    <script type="text/javascript">

        // Email validation
        function email_validation() {
            var email = document.getElementById('email').value;
            var email_regex = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

            if (!email.match(email_regex)) {
                email_error.innerHTML = "Enter valid email.."
            } else {
                email_error.innerHTML = ""
            }
        }

        // Mobile number validations
        function mobile_validation() {
            var mobilenum = document.getElementById('mobilenum').value;
            var mobileNumPattern = /^(\([0-9]{3}\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}/;

            //Sim operator logo value
            var logo = document.getElementById('logo');

            //Convert mobilenum to string value
            var value = mobilenum.toString();

            if (value == "") {
                mobileMessage.innerHTML = "Enter mobile number.."
            } else {
                if (!mobilenum.match(mobileNumPattern)) {
                    mobileMessage.innerHTML = "Enter valid number!"
                } else {
                    mobileMessage.innerHTML = ""
                }
            }

            // To get first 3 digits of the mobile number
            var strVal1 = value[0] + value[1] + value[2];
            var first_3_digits = parseInt(strVal1);
            // console.log('first: ' + first_3_digits);

            // To get second 3 digits of the mobile number
            var strVal2 = value[4] + value[5] + value[6];
            var second_3_digits = parseInt(strVal2);
            // console.log('second: ' + second_3_digits); 

            if (first_3_digits >= 621 && first_3_digits <= 799) {
                console.log("reliance jio");
                const company = 'reliance jio'
                logo.src = "reliancejioLogo.jpeg"
                stateCode(company, parseInt(value[4]));
            } else {
                if (first_3_digits >= 801 && first_3_digits <= 920) {
                    // console.log("idea", parseInt(value[4]));
                    const company = 'idea'
                    logo.src = "ideaLogo.png"                     //Set sim operator logo according to first 3 digits.
                    stateCode(company, parseInt(value[4]));
                } else {
                    if (first_3_digits >= 921 && first_3_digits <= 999) {
                        // console.log('vodaphone', parseInt(value[4]));
                        const company = 'vodaphone'
                        logo.src = "vodaphoneLogo.jpeg";
                        stateCode(company, parseInt(value[4]));
                    }
                }
            }
        }

        //Function for getting state name and operator name.
        //Each State code is ranged with gap of 100 i.e, the starting no. decides the State.
        function stateCode(company, code) {
            switch (code) {
                case 1: {
                    state.innerHTML = `${company}, Rajasthan`;
                    break;
                }
                case 2: {
                    state.innerHTML = `${company}, Andhra Pradesh`;
                    break;
                }
                case 3: {
                    state.innerHTML = `${company}, Tamil Nadu`;
                    break;
                }
                case 4: {
                    state.innerHTML = `${company}, Assam`;
                    break;
                }
                case 5: {
                    state.innerHTML = `${company}, Jharkhand`;
                    break;
                }
                case 6: {
                    state.innerHTML = `${company}, Arunachal Pradesh`;
                    break;
                }
                case 7: {
                    state.innerHTML = `${company}, Himachal Pradesh`;
                    break;
                }
                case 8: {
                    state.innerHTML = `${company}, Meghalaya`;
                    break;
                }
                case 9: {
                    state.innerHTML = `${company}, Haryana`;
                    break;
                }
                case 10: {
                    state.innerHTML = `${company}, Manipur`;
                    break;
                }
                case 11: {
                    state.innerHTML = `${company}, Sikkim`;
                    break;
                }
                case 12: {
                    state.innerHTML = `${company}, Mizoram`;
                    break;
                }
                case 13: {
                    state.innerHTML = `${company}, Telangana`;
                    break;
                }
                case 14: {
                    state.innerHTML = `${company}, Bihar`;
                    break;
                }
                case 15: {
                    state.innerHTML = `${company}, Karnataka`;
                    break;
                }
                case 16: {
                    state.innerHTML = `${company}, Nagaland`;
                    break;
                }
                case 17: {
                    state.innerHTML = `${company}, Tripura`;
                    break;
                }
                case 18: {
                    state.innerHTML = `${company}, Chhattisgarh`;
                    break;
                }
                case 19: {
                    state.innerHTML = `${company}, Kerala`;
                    break;
                }
                case 20: {
                    state.innerHTML = `${company}, Odisha`;
                    break;
                }
                case 21: {
                    state.innerHTML = `${company}, Uttarakhand`;
                    break;
                }
                case 22: {
                    state.innerHTML = `${company}, Goa`;
                    break;
                }
                case 23: {
                    state.innerHTML = `${company}, Madhya Pradesh`;
                    break;
                }
                case 24: {
                    state.innerHTML = `${company}, Punjab`;
                    break;
                }
                case 25: {
                    state.innerHTML = `${company}, Uttar Pradesh`;
                    break;
                }
                case 26: {
                    state.innerHTML = `${company}, Gujarat`;
                    break;
                }
                case 27: {
                    state.innerHTML = `${company}, Maharashtra`;
                    break;
                }
                case 28: {
                    state.innerHTML = `${company}, West Bengal`;
                    break;
                }
                case 29: {
                    state.innerHTML = `${company}, Andaman and Nicobar Islands`;
                    break;
                }
                case 30: {
                    state.innerHTML = `${company}, Daman & Diu`;
                    break;
                }
                case 31: {
                    state.innerHTML = `${company}, Jammu & Kashmir`;
                    break;
                }
                case 32: {
                    state.innerHTML = `${company}, Lakshadweep`;
                    break;
                }
                case 33: {
                    state.innerHTML = `${company}, Chandigarh`;
                    break;
                }
                case 34: {
                    state.innerHTML = `${company}, Delhi`;
                    break;
                }
                case 35: {
                    state.innerHTML = `${company}, Ladakh`;
                    break;
                }
                case 36: {
                    state.innerHTML = `${company}, Puducherry`;
                    break;
                }
            }

        }

        function name_validation() {

            var name = document.getElementById('fname').value;

            //To check if characters are equal to or more than 4 or not.
            //Here name_check[0] name_check[1] represents each words in name.
            var name_check = name.split(/(\s+)/);

            //To check if the name contains 2 or more words or not
            var pattern = /(\w.+\s).+/;

            if (name == "") {
                message.innerHTML = "Name is required!"
            } else {
                if (!name.match(pattern) || name_check[0].length < 4) {
                    message.innerHTML = "Name must have at least 2 words with only alphabets and space."
                } else {
                    message.innerHTML = ""
                }
            }




        }
    </script>
</body>

</html>